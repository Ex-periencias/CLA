<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - Control de Actividades (Datos de Prueba)</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">Consulta Rápida de Evaluaciones - DEMO</h1>
            <p style="color: white; text-align: center; margin-top: 10px; font-size: 1.1rem;">
                Esta es una demostración con datos de prueba
            </p>
        </header>

        <div class="controls">
            <div class="student-selector">
                <label for="studentSelect">Seleccionar Alumno:</label>
                <select id="studentSelect" class="student-dropdown">
                    <option value="">-- Selecciona un alumno --</option>
                </select>
                <button id="consultButton" class="consult-btn" disabled>
                    Consultar Calificaciones
                </button>
            </div>
        </div>

        <div id="results" class="results-container" style="display: none;">
            <div class="results-header">
                <h2 id="studentName" class="student-name"></h2>
                <button id="refreshButton" class="refresh-btn">Actualizar Datos</button>
            </div>
            
            <div id="materiasContainer" class="materias-container">
                <!-- Las materias se cargarán dinámicamente aquí -->
            </div>
        </div>

        <div id="loading" class="loading" style="display: none;">
            <div class="loading-spinner"></div>
            <p>Cargando datos...</p>
        </div>

        <div id="error" class="error" style="display: none;">
            <p id="errorMessage"></p>
            <button onclick="hideError()" class="error-btn">Intentar de nuevo</button>
        </div>

        <div id="noData" class="no-data" style="display: none;">
            <p>No se encontraron datos para este alumno.</p>
            <button onclick="loadStudentData()" class="retry-btn">Intentar de nuevo</button>
        </div>
    </div>

    <script>
        // Datos de prueba para la demo
        const DEMO_STUDENTS = [
            { numeroLista: 1, nombre: "GARCIA LOPEZ MARIA FERNANDA" },
            { numeroLista: 2, nombre: "AVILEZ TERRON SANTIAGO ABRAHAM" },
            { numeroLista: 3, nombre: "RODRIGUEZ MARTINEZ CARLOS EDUARDO" },
            { numeroLista: 4, nombre: "HERNANDEZ GONZALEZ ANA SOFIA" },
            { numeroLista: 5, nombre: "LOPEZ SANCHEZ MIGUEL ANGEL" }
        ];

        const DEMO_DATA = {
            "GARCIA LOPEZ MARIA FERNANDA": {
                "Lengua Materna": {
                    numeroLista: 1,
                    nombre: "GARCIA LOPEZ MARIA FERNANDA",
                    actividades: {
                        "Presentacion SEP": 85,
                        "Diagnóstico": 78,
                        "Collage Acoso": 92,
                        "E. Diagnóstico": 80,
                        "Firma Exámen": 88,
                        "Laboratorio": 90,
                        "22,23 C.Animal": 85,
                        "24 Virus y Bacterias": 87,
                        "Microscopio": 89,
                        "Práctica": 86,
                        "Tipos de celula": 84,
                        "Act. Libro": 91
                    },
                    variantes: {
                        "Total (1)": 85.5,
                        "Variante 1.1": 84,
                        "Variante 1.2": 87,
                        "Total (2)": 85.5,
                        "Variante 2.1": 86,
                        "Variante 2.2": 85,
                        "Total (3)": 85.5,
                        "Variante 3.1": 88,
                        "Variante 3.2": 83,
                        "Variante 3.3": 85,
                        "Total (4)": 85.3
                    },
                    calificacionTotal: 85.5
                },
                "Matemáticas": {
                    numeroLista: 1,
                    nombre: "GARCIA LOPEZ MARIA FERNANDA",
                    actividades: {
                        "Presentacion SEP": 88,
                        "Diagnóstico": 82,
                        "Collage Acoso": 90,
                        "E. Diagnóstico": 85,
                        "Firma Exámen": 89,
                        "Laboratorio": 91,
                        "22,23 C.Animal": 87,
                        "24 Virus y Bacterias": 88,
                        "Microscopio": 90,
                        "Práctica": 87,
                        "Tipos de celula": 85,
                        "Act. Libro": 92
                    },
                    variantes: {
                        "Total (1)": 87.5,
                        "Variante 1.1": 86,
                        "Variante 1.2": 89,
                        "Total (2)": 87.5,
                        "Variante 2.1": 88,
                        "Variante 2.2": 87,
                        "Total (3)": 87.5,
                        "Variante 3.1": 89,
                        "Variante 3.2": 86,
                        "Variante 3.3": 87,
                        "Total (4)": 87.3
                    },
                    calificacionTotal: 87.5
                },
                "Ciencias Naturales": {
                    numeroLista: 1,
                    nombre: "GARCIA LOPEZ MARIA FERNANDA",
                    actividades: {
                        "Presentacion SEP": 91,
                        "Diagnóstico": 85,
                        "Collage Acoso": 94,
                        "E. Diagnóstico": 88,
                        "Firma Exámen": 90,
                        "Laboratorio": 93,
                        "22,23 C.Animal": 89,
                        "24 Virus y Bacterias": 91,
                        "Microscopio": 92,
                        "Práctica": 88,
                        "Tipos de celula": 87,
                        "Act. Libro": 93
                    },
                    variantes: {
                        "Total (1)": 89.5,
                        "Variante 1.1": 88,
                        "Variante 1.2": 91,
                        "Total (2)": 89.5,
                        "Variante 2.1": 90,
                        "Variante 2.2": 89,
                        "Total (3)": 89.5,
                        "Variante 3.1": 91,
                        "Variante 3.2": 88,
                        "Variante 3.3": 89,
                        "Total (4)": 89.3
                    },
                    calificacionTotal: 89.5
                },
                "Historia": {
                    numeroLista: 1,
                    nombre: "GARCIA LOPEZ MARIA FERNANDA",
                    actividades: {
                        "Presentacion SEP": 87,
                        "Diagnóstico": 83,
                        "Collage Acoso": 89,
                        "E. Diagnóstico": 86,
                        "Firma Exámen": 88,
                        "Laboratorio": 90,
                        "22,23 C.Animal": 86,
                        "24 Virus y Bacterias": 87,
                        "Microscopio": 89,
                        "Práctica": 85,
                        "Tipos de celula": 84,
                        "Act. Libro": 90
                    },
                    variantes: {
                        "Total (1)": 86.8,
                        "Variante 1.1": 85,
                        "Variante 1.2": 88,
                        "Total (2)": 86.5,
                        "Variante 2.1": 87,
                        "Variante 2.2": 86,
                        "Total (3)": 86.3,
                        "Variante 3.1": 88,
                        "Variante 3.2": 85,
                        "Variante 3.3": 86,
                        "Total (4)": 86.5
                    },
                    calificacionTotal: 86.8
                },
                "Educación Física": {
                    numeroLista: 1,
                    nombre: "GARCIA LOPEZ MARIA FERNANDA",
                    actividades: {
                        "Presentacion SEP": 92,
                        "Diagnóstico": 88,
                        "Collage Acoso": 95,
                        "E. Diagnóstico": 90,
                        "Firma Exámen": 91,
                        "Laboratorio": 94,
                        "22,23 C.Animal": 89,
                        "24 Virus y Bacterias": 90,
                        "Microscopio": 93,
                        "Práctica": 91,
                        "Tipos de celula": 88,
                        "Act. Libro": 94
                    },
                    variantes: {
                        "Total (1)": 90.5,
                        "Variante 1.1": 89,
                        "Variante 1.2": 92,
                        "Total (2)": 90.8,
                        "Variante 2.1": 91,
                        "Variante 2.2": 90,
                        "Total (3)": 90.2,
                        "Variante 3.1": 92,
                        "Variante 3.2": 89,
                        "Variante 3.3": 90,
                        "Total (4)": 90.5
                    },
                    calificacionTotal: 90.5
                },
                "Artes": {
                    numeroLista: 1,
                    nombre: "GARCIA LOPEZ MARIA FERNANDA",
                    actividades: {
                        "Presentacion SEP": 94,
                        "Diagnóstico": 90,
                        "Collage Acoso": 96,
                        "E. Diagnóstico": 92,
                        "Firma Exámen": 93,
                        "Laboratorio": 95,
                        "22,23 C.Animal": 91,
                        "24 Virus y Bacterias": 92,
                        "Microscopio": 94,
                        "Práctica": 93,
                        "Tipos de celula": 90,
                        "Act. Libro": 96
                    },
                    variantes: {
                        "Total (1)": 92.8,
                        "Variante 1.1": 91,
                        "Variante 1.2": 94,
                        "Total (2)": 92.5,
                        "Variante 2.1": 93,
                        "Variante 2.2": 92,
                        "Total (3)": 93.0,
                        "Variante 3.1": 94,
                        "Variante 3.2": 91,
                        "Variante 3.3": 93,
                        "Total (4)": 92.8
                    },
                    calificacionTotal: 92.8
                }
            },
            "AVILEZ TERRON SANTIAGO ABRAHAM": {
                "Lengua Materna": {
                    numeroLista: 2,
                    nombre: "AVILEZ TERRON SANTIAGO ABRAHAM",
                    actividades: {
                        "Presentacion SEP": 75,
                        "Diagnóstico": 70,
                        "Collage Acoso": 78,
                        "E. Diagnóstico": 72,
                        "Firma Exámen": 76,
                        "Laboratorio": 80,
                        "22,23 C.Animal": 74,
                        "24 Virus y Bacterias": 75,
                        "Microscopio": 79,
                        "Práctica": 73,
                        "Tipos de celula": 71,
                        "Act. Libro": 81
                    },
                    variantes: {
                        "Total (1)": 76.2,
                        "Variante 1.1": 74,
                        "Variante 1.2": 78,
                        "Total (2)": 75.8,
                        "Variante 2.1": 77,
                        "Variante 2.2": 74,
                        "Total (3)": 76.0,
                        "Variante 3.1": 78,
                        "Variante 3.2": 74,
                        "Variante 3.3": 76,
                        "Total (4)": 76.0
                    },
                    calificacionTotal: 76.2
                },
                "Matemáticas": {
                    numeroLista: 2,
                    nombre: "AVILEZ TERRON SANTIAGO ABRAHAM",
                    actividades: {
                        "Presentacion SEP": 78,
                        "Diagnóstico": 73,
                        "Collage Acoso": 80,
                        "E. Diagnóstico": 75,
                        "Firma Exámen": 79,
                        "Laboratorio": 82,
                        "22,23 C.Animal": 76,
                        "24 Virus y Bacterias": 77,
                        "Microscopio": 81,
                        "Práctica": 74,
                        "Tipos de celula": 73,
                        "Act. Libro": 83
                    },
                    variantes: {
                        "Total (1)": 77.6,
                        "Variante 1.1": 75,
                        "Variante 1.2": 80,
                        "Total (2)": 77.2,
                        "Variante 2.1": 79,
                        "Variante 2.2": 75,
                        "Total (3)": 77.5,
                        "Variante 3.1": 80,
                        "Variante 3.2": 75,
                        "Variante 3.3": 77,
                        "Total (4)": 77.6
                    },
                    calificacionTotal: 77.6
                },
                "Ciencias Naturales": {
                    numeroLista: 2,
                    nombre: "AVILEZ TERRON SANTIAGO ABRAHAM",
                    actividades: {
                        "Presentacion SEP": 80,
                        "Diagnóstico": 76,
                        "Collage Acoso": 82,
                        "E. Diagnóstico": 78,
                        "Firma Exámen": 81,
                        "Laboratorio": 84,
                        "22,23 C.Animal": 77,
                        "24 Virus y Bacterias": 79,
                        "Microscopio": 83,
                        "Práctica": 76,
                        "Tipos de celula": 75,
                        "Act. Libro": 85
                    },
                    variantes: {
                        "Total (1)": 79.8,
                        "Variante 1.1": 77,
                        "Variante 1.2": 82,
                        "Total (2)": 79.2,
                        "Variante 2.1": 81,
                        "Variante 2.2": 77,
                        "Total (3)": 79.5,
                        "Variante 3.1": 82,
                        "Variante 3.2": 77,
                        "Variante 3.3": 79,
                        "Total (4)": 79.8
                    },
                    calificacionTotal: 79.8
                },
                "Historia": {
                    numeroLista: 2,
                    nombre: "AVILEZ TERRON SANTIAGO ABRAHAM",
                    actividades: {
                        "Presentacion SEP": 77,
                        "Diagnóstico": 72,
                        "Collage Acoso": 79,
                        "E. Diagnóstico": 74,
                        "Firma Exámen": 78,
                        "Laboratorio": 81,
                        "22,23 C.Animal": 75,
                        "24 Virus y Bacterias": 76,
                        "Microscopio": 80,
                        "Práctica": 73,
                        "Tipos de celula": 72,
                        "Act. Libro": 82
                    },
                    variantes: {
                        "Total (1)": 76.6,
                        "Variante 1.1": 74,
                        "Variante 1.2": 79,
                        "Total (2)": 76.2,
                        "Variante 2.1": 78,
                        "Variante 2.2": 74,
                        "Total (3)": 76.4,
                        "Variante 3.1": 79,
                        "Variante 3.2": 74,
                        "Variante 3.3": 76,
                        "Total (4)": 76.6
                    },
                    calificacionTotal: 76.6
                },
                "Educación Física": {
                    numeroLista: 2,
                    nombre: "AVILEZ TERRON SANTIAGO ABRAHAM",
                    actividades: {
                        "Presentacion SEP": 82,
                        "Diagnóstico": 78,
                        "Collage Acoso": 84,
                        "E. Diagnóstico": 80,
                        "Firma Exámen": 83,
                        "Laboratorio": 86,
                        "22,23 C.Animal": 79,
                        "24 Virus y Bacterias": 81,
                        "Microscopio": 85,
                        "Práctica": 78,
                        "Tipos de celula": 77,
                        "Act. Libro": 87
                    },
                    variantes: {
                        "Total (1)": 81.8,
                        "Variante 1.1": 79,
                        "Variante 1.2": 84,
                        "Total (2)": 81.2,
                        "Variante 2.1": 83,
                        "Variante 2.2": 79,
                        "Total (3)": 81.5,
                        "Variante 3.1": 84,
                        "Variante 3.2": 79,
                        "Variante 3.3": 81,
                        "Total (4)": 81.8
                    },
                    calificacionTotal: 81.8
                },
                "Artes": {
                    numeroLista: 2,
                    nombre: "AVILEZ TERRON SANTIAGO ABRAHAM",
                    actividades: {
                        "Presentacion SEP": 85,
                        "Diagnóstico": 81,
                        "Collage Acoso": 87,
                        "E. Diagnóstico": 83,
                        "Firma Exámen": 86,
                        "Laboratorio": 89,
                        "22,23 C.Animal": 82,
                        "24 Virus y Bacterias": 84,
                        "Microscopio": 88,
                        "Práctica": 81,
                        "Tipos de celula": 80,
                        "Act. Libro": 90
                    },
                    variantes: {
                        "Total (1)": 84.6,
                        "Variante 1.1": 82,
                        "Variante 1.2": 87,
                        "Total (2)": 84.2,
                        "Variante 2.1": 86,
                        "Variante 2.2": 82,
                        "Total (3)": 84.4,
                        "Variante 3.1": 87,
                        "Variante 3.2": 82,
                        "Variante 3.3": 84,
                        "Total (4)": 84.6
                    },
                    calificacionTotal: 84.6
                }
            }
        };

        // Sobrescribir funciones para usar datos demo
        const originalLoadStudents = window.loadStudents;
        const originalGetStudentData = window.getStudentData;

        // Demo: Cargar lista de estudiantes
        function loadStudents() {
            return new Promise((resolve) => {
                setTimeout(() => {
                    window.students = DEMO_STUDENTS;
                    populateStudentDropdown();
                    resolve();
                }, 500); // Simular delay de red
            });
        }

        // Demo: Obtener datos de estudiante
        async function getStudentData(studentName) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    const data = {
                        student: studentName,
                        materias: Object.keys(DEMO_DATA[studentName] || {}),
                        data: DEMO_DATA[studentName] || {}
                    };
                    resolve(data);
                }, 800); // Simular delay de red
            });
        }

        // Reemplazar funciones originales
        window.loadStudents = loadStudents;
        window.getStudentData = getStudentData;
    </script>
    <script src="script.js"></script>
</body>
</html>